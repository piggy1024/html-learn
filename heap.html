<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>堆排序</title>
</head>
<body>
    
</body>
<script type="text/javascript">
    function swap(A,i,j){
        let temp = A[i]
        A[i] = A[j]
        A[j] = temp
    }
    function shiftDown(A, i , length){
        let temp = A[i]

        for(let j = 2*i+1; j<length; j = 2*j+1){
            temp = A[i]
            if(j+1 < length && A[j] < A[j+1]){
                j++
            }
            if(temp < A[j]){
                swap(A , i , j)
                i=j;
            }else{
                break;
            }
        }
    }

    function heapSort(A){
        for(let i = Math.floor(A.length/2-1); i >= 0; i--){
            shiftDown(A, i , A.length);
        }

        for(let i = Math.floor(A.length-1); i > 0; i--){
            swap(A, 0 , i);
            shiftDown(A, 0, i)
        }
    }

    let Arr = [4, 6, 8, 5, 9,1 ,2 ,5 ,3 ,2]
    heapSort(Arr)
    alert(Arr)
</script>
</html>